# Числа

В JavaScript числа представлены типом данных `number`, который используется для работы как с целыми числами, так и с числами с плавающей точкой

```js
let apples = 42; // Целое число
let price = 96.8; // Число с плавающей точкой
let billion = 1_000_000_000; // Символ нижнего подчёркивания _ – это «синтаксический сахар», он делает число более читабельным
```

## Большие числа

```js
let veryBigNumber = 1234567890123456789012345678901234567890n;
```

## Безопасный диапазон чисел

В JavaScript тип number не может безопасно работать с числами, большими, чем (253-1) (т. е. 9007199254740991) или меньшими, чем -(253-1) для отрицательных чисел.

## Базовые математические операции

Арифметические операции (+, -, \*, /, %, \*\*) работают как для целых, так и для дробных чисел.

```js
console.log(10 + 5);
console.log(10 - 5);
console.log(10 * 2);
console.log(10 / 3);
console.log(10 % 3); // 1 (остаток от деления)
console.log(2 ** 2); // 4 (возведение в степень)
```

## Инкремент и декремент

Это операции увеличения или уменьшения значения переменной на единицу. В JavaScript используются два оператора: ++ для инкремента и -- для декремента.

**Инкремент (++)**

Инкремент увеличивает значение переменной на 1.

- Постфиксный инкремент (x++): Увеличивает значение переменной, но возвращает исходное значение до увеличения.
- Префиксный инкремент (++x): Увеличивает значение переменной и сразу возвращает новое значение.

```js
let x = 5;

console.log(x++); // 5 (сначала возвращается текущее значение, потом x становится 6)
console.log(x); // 6

let y = 5;
console.log(++y); // 6 (сначала увеличивается значение, потом возвращается 6)
console.log(y); // 6
```

**Декремент (--)**

Декремент уменьшает значение переменной на 1.

- Постфиксный декремент (x--): Уменьшает значение переменной, но возвращает исходное значение до уменьшения.
- Префиксный декремент (--x): Уменьшает значение переменной и сразу возвращает новое значение.

```js
let x = 5;

console.log(x--); // 5 (сначала возвращается текущее значение, потом x становится 4)
console.log(x); // 4

let y = 5;
console.log(--y); // 4 (сначала уменьшается значение, потом возвращается 4)
console.log(y); // 4
```

## Специальные значения

- `Infinity` — Бесконечность. Возникает, например, при делении числа на 0

```js
console.log(1 / 0); // Infinity
```

- `-Infinity` — Отрицательная бесконечность

```js
console.log(-1 / 0); // -Infinity
```

- `NaN` — (Not a Number): Возникает, если операция с числами невозможна

```js
console.log(0 / 0); // NaN
console.log("abc" * 2); // NaN
```

## Проблемы точности

- Из-за особенностей формата IEEE 754 дробные числа не всегда точно представлены

```js
console.log(0.1 + 0.2); // 0.30000000000000004
```

## Округление чисел

- `Math.round()`: Округление до ближайшего целого

```js
console.log(Math.round(4.6)); // 5
console.log(Math.round(4.3)); // 4
```

- `Math.floor()` Округляет вниз

```js
console.log(Math.floor(4.7)); // 4
```

- `Math.ceil()` Округляет вверх

```js
console.log(Math.ceil(4.3)); // 5
```

- `toFixed()` Оставляет заданное количество знаков после запятой

```js
let num = 3.14159;
console.log(num.toFixed(2)); // "3.14"
```

- `Math.trunc` Производит удаление дробной части без округления

```js
console.log(Math.trunc(3.58)); // 3
```

## Приведение типов

Приведение типов в JavaScript — это процесс автоматического (или явного) преобразования значения одного типа данных в другой. При работе с числами это происходит довольно часто, особенно когда используются строки, логические значения и другие типы данных в числовых операциях

## Неявное приведение типов (Implicit Type Conversion)

```js
console.log("5" - 3); // 2
console.log("5" + 3); // "53" (конкатенация)
```

### Строка - Число

Если используется оператор -, \*, /, % и т. д., то строка преобразуется в число

```js
console.log("5" - 2); // 3
console.log("10" * 2); // 20
console.log("20" / 4); // 5
```

## Явное приведение типов (Explicit Type Conversion)

Вы можете управлять преобразованием типов вручную. Для этого используют встроенные функции и методы.

### Преобразование в число

`Number()`: Универсальная функция для преобразования в число.

```js
console.log(Number("123")); // 123
console.log(Number("12.34")); // 12.34
console.log(Number("abc")); // NaN
console.log(Number(undefined)); // NaN
console.log(Number(null)); // 0
```

`parseInt()` и `parseFloat()`

Преобразуют строку в целое число или число с плавающей точкой, соответственно. Игнорируют нечисловые символы после числовой части.

```js
console.log(parseInt("123px")); // 123
console.log(parseFloat("12.34em")); // 12.34
console.log(parseInt("abc123")); // NaN
```

### Преобразование в строку

`String()`: Преобразует любое значение в строку.

```js
console.log(String(123)); // "123"
console.log(String(null)); // "null"
console.log(String(undefined)); // "undefined"
```

## Генерация случайных чисел

В JavaScript для генерации случайных чисел используется встроенная функция Math.random(), которая возвращает случайное число с плавающей точкой в диапазоне от 0 (включительно) до 1 (не включая 1). На основе этого можно реализовать генерацию случайных чисел в заданных диапазонах и форматах.

### Генерация случайного числа от 0 до 1

```js
console.log(Math.random());
// Пример: 0.34825326828190214
```

### Генерация случайного числа в диапазоне [min, max]

```js
let min = 5;
let max = 10;
let random = Math.random() * (max - min) + min;
console.log(random);
// Пример: 7.2438317826543
```

```js
let min = 5;
let max = 10;
let random = Math.floor(Math.random() * (max - min + 1)) + min;
console.log(random);
// Пример: 8
```

### Случайное целое число от 0 до max (включительно)

```js
let max = 20;
let random = Math.floor(Math.random() * (max + 1));
console.log(random);
// Пример: 13
```

### Случайное отрицательное число

```js
let min = -10;
let max = -1;
let random = Math.random() * (max - min) + min;
console.log(random);
// Пример: -5.23454321
```

```js
let min = -10;
let max = -1;
let random = Math.floor(Math.random() * (max - min + 1)) + min;
console.log(random);
// Пример: -7
```

## Полезные методы и константы из библиотеки Math

Библиотека Math в JavaScript предоставляет множество полезных методов и констант для работы с числами, математическими операциями и вычислениями.

**Число ПИ**

```js
console.log(Math.PI); // 3.141592653589793
```

**Число Эйлера**

```js
console.log(Math.E); // 2.718281828459045
```

`Math.sqrt(x)` Возвращает квадратный корень числа x

```js
console.log(Math.sqrt(9)); // 3
```

**Math.cbrt(x)** Возвращает кубический корень числа

```js
console.log(Math.cbrt(9)); // 2.080083823051904
```

**Math.pow(x, y)** Возвращает число x в степени y (то же самое, что x \*\* y)

```js
console.log(Math.pow(2, 5)); // 32
```

**Math.min(...x)** Возвращает минимальное число из набора

```js
console.log(Math.min(2, 5, 6, 8, 1)); // 1
```

**Math.max(...x)** Возвращает максимальное число из набора

```js
console.log(Math.max(2, 5, 6, 8, 1)); // 8
```

Подробнее:

- https://learn.javascript.ru/types
- https://learn.javascript.ru/number
- https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Number
